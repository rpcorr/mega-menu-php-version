"use strict";let navItems=[];const navItemWidth=[],navItemVisible=[];let moreWidth=0,winWidth=0,output="",megaMenuLinks="",id;function handleLinkClick(e){e.preventDefault(),$(this).parents().hasClass("menu-item-has-children")&&toggleTopLevelMenu($(this))}function closeAllMenus(menuItem){if("esc"===menuItem)return $("li").removeClass("visible"),resetArrows(),void $(".menu-item-has-children > a").each((function(){$(this).attr("aria-label",`${$(this).text()}has a sub menu. Click enter to open`),$(this).attr("aria-expanded",!1),$(this).attr("aria-expanded",!1)}));void 0===menuItem.attr("id")&&$("li").removeClass("visible"),resetArrows(),$(".menu-item-has-children > a").each((function(){$(this).attr("aria-label",`${$(this).text()}has a sub menu. Click enter to open`),$(this).attr("aria-expanded",!1),$(this).attr("aria-expanded",!1)}))}function formatNav(){let room=!0,count=0,tempWidth=0,totalWidth=0;const containerWidth=$(".menu-main-menu-container").innerWidth(),navPadding=5,numItems=navItems.length-1;navItems.each((function(){tempWidth=totalWidth+navItemWidth[count]+5,(tempWidth<containerWidth-moreWidth-5||tempWidth<containerWidth&&count==numItems)&&1==room?(totalWidth=tempWidth,1!=navItemVisible[count]&&($("#menu-more").before($("#moreSubMenu").children().first()),navItemVisible[count]=!0,count==numItems&&$("#menu-more").hide())):(1==room&&(room=!1,0==count?($("nav").addClass("all-hidden"),$("#menuMoreLink").html('Menu <i class="caret angle-down"></i>')):($("nav").removeClass("all-hidden"),$("#menuMoreLink").html('More <i class="caret angle-down"></i>')),$("#menu-more").show()),$(this).removeClass("hover"),$(this).appendTo($("#moreSubMenu")),navItemVisible[count]=!1),count+=1}))}function resetArrows(){$(".fa").removeClass("fa-angle-up").addClass("fa-angle-down")}function onResize(){if(winWidth!=$(window).width()){let count=0;navItems.each((function(){$(this).hasClass("menu-item-has-children")&&$(this).addClass("hover");let itemWidth=$(this).outerWidth();itemWidth>0&&(navItemWidth[count]=itemWidth)})),moreWidth=$("#menu-more").outerWidth(),$(".menu-item-has-children").removeClass("visible"),resetArrows(),formatNav(),winWidth=$(window).width()}}function toggleTopLevelMenu(menuLink){if($(menuLink).parents(".menu-item-has-children").hasClass("visible"))$(menuLink).parent().parent().is("ul#menu-main-menu.menu")?closeAllMenus($(menuLink)):$(menuLink).parent().hasClass("visible")?($(menuLink).parent(".menu-item-has-children").removeClass("visible"),$(menuLink).children("i").removeClass("fa-angle-up").addClass("fa-angle-down"),$(menuLink).attr("aria-label",`${$(menuLink).text()}has a sub menu. Click enter to open`),$(menuLink).attr("aria-expanded",!1),closeSiblingSubMenus(menuLink)):($(menuLink).parents(".menu-item-has-children").addClass("visible"),$(menuLink).children("i").removeClass("fa-angle-down").addClass("fa-angle-up"),$(menuLink).attr("aria-label",`Click Enter to close ${$(menuLink).text()}sub menu`),$(menuLink).attr("aria-expanded",!0));else{$("li.menu-item-has-children").not(menuLink.closest("li")).removeClass("visible"),resetArrows();let focusedLink=$("li.menu-item-has-children > a:focus");$("li.menu-item-has-children > a").not(focusedLink).each((function(){$(this).attr("aria-label",`${$(this).text()}has a sub menu. Click enter to open`)})),$("li.menu-item-has-children > a").not(focusedLink).attr("aria-expanded",!1),$(menuLink).parents(".menu-item-has-children").addClass("visible"),$(menuLink).children("i").removeClass("fa-angle-down").addClass("fa-angle-up"),$(menuLink).attr("aria-label",`Click Enter to close ${$(menuLink).text()}sub menu`),$(menuLink).attr("aria-expanded",!0)}}function watchForHover(){let hasHoverClass=!1,lastTouchTime=0;function enableHover(){new Date-lastTouchTime<500||hasHoverClass||($("body").addClass("has-hover"),hasHoverClass=!0)}function disableHover(){hasHoverClass&&($("body").removeClass("has-hover"),hasHoverClass=!1)}function updateLastTouchTime(){lastTouchTime=new Date}document.addEventListener("touchstart",updateLastTouchTime,!0),document.addEventListener("touchstart",disableHover,!0),document.addEventListener("mousemove",enableHover,!0),enableHover()}function closeSiblingSubMenus(menuLink){$(menuLink).parent().find("li.menu-item-has-children").removeClass("visible"),$(menuLink).parent().find("li.menu-item-has-children > a > i").removeClass("fa-angle-up").addClass("fa-angle-down"),$(menuLink).parent().find("li.menu-item-has-children > a").each((function(){$(this).attr("aria-label",`${$(this).text()}has a sub menu. Click enter to open`).attr("aria-expanded",!1)}))}function determineHREFTarget(mI){return mI.hasOwnProperty("target")?`target="${mI.target}"`:"#"===mI.link.charAt(0)||-1===mI.link.indexOf("http")&&-1===mI.link.indexOf(".pdf")?"":'target="_blank"'}function isCurrentPage(page){if(-1!==window.location.href.indexOf(page)||"index.php"===page)return!0}$(document).ready((function(){megaMenuLinks=document.querySelectorAll('nav a[href^="#"]');for(let i=0;i<megaMenuLinks.length;i++)megaMenuLinks[i].addEventListener("click",handleLinkClick);winWidth=$(window).width(),$("#menu-main-menu").on("keydown",(function(e){"Escape"==e.key&&closeAllMenus("esc")})),navItems=$("#menu-main-menu > li"),navItems.each((function(){$(this).hasClass("menu-item-has-children")&&$(this).addClass("hover")})),navItems.each((function(){navItemWidth.push($(this).outerWidth()),navItemVisible.push(!0)})),$("#menu-main-menu").append('<li id="menu-more" class="menu-item menu-item-has-children" style="display: none;"><a id="menuMoreLink" href="#" aria-label="More has a sub menu. Click enter to open" aria-expanded="false"></a><ul id="moreSubMenu" class="sub-menu"></ul></li>'),moreWidth=$("#menu-more").outerWidth(),$("#menuMoreLink").click((function(event){event.preventDefault(),$(".menu-item-has-children:not(#menu-more)").removeClass("visible"),$(this).parent(".menu-item-has-children").toggleClass("visible"),$(this).parent(".menu-item-has-children").hasClass("visible")?($(this).children("i").removeClass("angle-down").addClass("angle-up"),$(this).attr("aria-label","Click Enter to close More sub menu"),$(this).attr("aria-expanded",!0)):($(this).children("i").removeClass("angle-up").addClass("angle-down"),$(this).attr("aria-label","More has a sub menu. Click enter to open"),$(this).attr("aria-expanded",!1))})),$("body").click((function(event){$(event.target).closest("li").length||$(".menu-item-has-children").removeClass("visible"),resetArrows(),$(".menu-item-has-children > a").each((function(){$(this).attr("aria-label",`${$(this).text()}has a sub menu. Click enter to open`).attr("aria-expanded","false")}))})),$(".menu-item-has-children a").click((function(e){e.stopPropagation()})),$(".menu-item-has-children ul").click((function(e){e.stopPropagation()})),$(".menu-item-has-children li").click((function(e){e.stopPropagation()})),formatNav(),watchForHover()})),$.urlParam=function(name){var results=new RegExp("[?&]"+name+"=([^&#]*)").exec(window.location.href);return null==results?null:decodeURI(results[1])||0},$(window).resize((function(){clearTimeout(id),id=setTimeout(onResize,500)}));var radioButtons=document.querySelectorAll('input[name="option"]');function selectStylesheet(stylesheetName){const stylesheet=document.createElement("link");stylesheet.rel="stylesheet",stylesheet.type="text/css",stylesheet.href="assets/css/templatesStyles/"+stylesheetName+".css",document.head.appendChild(stylesheet);const previousStylesheets=document.querySelectorAll('link[rel="stylesheet"][href^="assets/css/templatesStyles"]:not(:last-of-type)');setTimeout(()=>{previousStylesheets.forEach((function(previousStylesheet){document.head.removeChild(previousStylesheet)}))},1e3)}radioButtons.forEach((function(radioButton){radioButton.addEventListener("click",(function(){selectStylesheet(this.id);var xhr=new XMLHttpRequest;xhr.open("GET","assets/php_scripts/update_style_preference.php?stylePreference="+this.id,!0),xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var data="stylePreference="+encodeURIComponent(this.id);xhr.send(data)}))}));